CMAKE_MINIMUM_REQUIRED(VERSION 2.6.2)

PROJECT(omm)

IF(CMAKE_CROSSCOMPILING)
message(STATUS "host system: " ${CMAKE_HOST_SYSTEM_NAME})
message(STATUS "building for target system: " ${CMAKE_SYSTEM_NAME})
ELSE(CMAKE_CROSSCOMPILING)
message(STATUS "building native for system: " ${CMAKE_SYSTEM_NAME})
ENDIF(CMAKE_CROSSCOMPILING)

IF(LINUX OR ${CMAKE_SYSTEM_NAME} MATCHES "Linux")
MESSAGE("set build target to Linux")
SET(LINUX 1)
SET(BUILD_TARGET "Linux")
ADD_DEFINITIONS(-D__LINUX__)
ENDIF(LINUX OR ${CMAKE_SYSTEM_NAME} MATCHES "Linux")

IF(APPLE OR ${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
MESSAGE("set build target to Mac OSX")
SET(DARWIN 1)
SET(BUILD_TARGET "Darwin")
ADD_DEFINITIONS(-D__DARWIN__)
set(CMAKE_INSTALL_NAME_DIR ${CMAKE_PREFIX_PATH})
ENDIF(APPLE OR ${CMAKE_SYSTEM_NAME} MATCHES "Darwin")

ADD_DEFINITIONS(-g -Wno-unused-parameter)

ADD_SUBDIRECTORY(lib)
#ADD_SUBDIRECTORY(netlight)
ADD_SUBDIRECTORY(controller)
ADD_SUBDIRECTORY(renderer)
ADD_SUBDIRECTORY(server)
ADD_SUBDIRECTORY(tests)
