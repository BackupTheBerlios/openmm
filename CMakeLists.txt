CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(omm)

IF(CMAKE_CROSSCOMPILING)
message(STATUS "host system: " ${CMAKE_HOST_SYSTEM_NAME})
message(STATUS "building for target system: " ${CMAKE_SYSTEM_NAME})
ELSE(CMAKE_CROSSCOMPILING)

message(STATUS "building native for system: " ${CMAKE_SYSTEM_NAME})
IF(APPLE OR ${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
MESSAGE("building for Mac OS X")
ADD_DEFINITIONS(-D__DARWIN__)
set(CMAKE_INSTALL_NAME_DIR ${CMAKE_PREFIX_PATH})
ENDIF(APPLE OR ${CMAKE_SYSTEM_NAME} MATCHES "Darwin")

ENDIF(CMAKE_CROSSCOMPILING)

ADD_DEFINITIONS(-g -Wno-unused-parameter)

ADD_SUBDIRECTORY(lib)
#ADD_SUBDIRECTORY(netlight)
ADD_SUBDIRECTORY(controller)
ADD_SUBDIRECTORY(renderer)
ADD_SUBDIRECTORY(server)
ADD_SUBDIRECTORY(tests)
