FIND_PATH(POCO_INCLUDE_DIR
Poco/Poco.h
PATHS ${CMAKE_INCLUDE_PATH}
)

FIND_LIBRARY(LIB_POCO_FOUNDATION
NAME PocoFoundation
PATHS ${CMAKE_LIBRARY_PATH}
)

if(POCO_INCLUDE_DIR AND LIB_POCO_FOUNDATION)
message(STATUS "Poco headers found in " ${POCO_INCLUDE_DIR})

INCLUDE_DIRECTORIES(
${POCO_INCLUDE_DIR}
${ommlib_SOURCE_DIR}/Omm
)


SET( OMM_AV_STREAM_LIB_SRCS
AvStream.cpp
)

ADD_LIBRARY( ommavstream
SHARED
${OMM_AV_STREAM_LIB_SRCS}
)

TARGET_LINK_LIBRARIES( ommavstream
${LIB_POCO_FOUNDATION}
)

INSTALL( TARGETS ommavstream
LIBRARY DESTINATION lib
)

else(POCO_INCLUDE_DIR AND LIB_POCO_FOUNDATION)
message(STATUS "Poco not found")
endif(POCO_INCLUDE_DIR AND LIB_POCO_FOUNDATION)

add_subdirectory(FFmpeg)
