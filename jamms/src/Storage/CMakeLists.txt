SET(CMAKE_LIBRARY_PATH
${CMAKE_SYSTEM_LIBRARY_PATH}
)

if(TARGET jamm)
SET(LIB_JAMM
jamm
)
INCLUDE_DIRECTORIES(
${jamm_SOURCE_DIR}/jammlib
)
else(TARGET jamm)
FIND_LIBRARY(LIB_JAMM
NAME jamm
PATHS ${CMAKE_LIBRARY_PATH}
)
endif(TARGET jamm)


SET( JAMMS_STORAGE_SRCS
Filesystem.cpp
)

ADD_LIBRARY( jamms-av-storage
SHARED
${JAMMS_STORAGE_SRCS}
)

TARGET_LINK_LIBRARIES( jamms-av-storage
${LIB_JAMM}
${LIB_POCO_UTIL}
)

INSTALL( TARGETS jamms-av-storage
LIBRARY DESTINATION lib/jamm
)
