SET(CMAKE_LIBRARY_PATH
${CMAKE_SYSTEM_LIBRARY_PATH}
)

FIND_LIBRARY(LIB_PLATINUM_UPNP
NAME platinum-upnp
PATHS ${CMAKE_LIBRARY_PATH}
)

FIND_LIBRARY(LIB_POCO_NET
NAME PocoNet
PATHS ${CMAKE_LIBRARY_PATH}
)

FIND_LIBRARY(LIB_POCO_XML
NAME PocoXML
PATHS ${CMAKE_LIBRARY_PATH}
)

if(TARGET jamm)
SET(LIB_JAMM
jamm
)
INCLUDE_DIRECTORIES(
${jamm_SOURCE_DIR}/jammlib
)
else(TARGET jamm)
FIND_LIBRARY(LIB_JAMM
NAME jamm
PATHS ${CMAKE_LIBRARY_PATH}
)
endif(TARGET jamm)

SET( JAMMS_WEB_SRCS
main.cpp
webmediaserver.cpp
)

#list all source files here
ADD_EXECUTABLE( jammweb
${JAMMS_WEB_SRCS}
)

#need to link to some other libraries ? just add them here
TARGET_LINK_LIBRARIES( jammweb
${LIB_JAMM}
${LIB_PLATINUM_UPNP}
${LIB_POCO_NET}
${LIB_POCO_XML}
)

INSTALL( TARGETS jammweb
RUNTIME DESTINATION bin
LIBRARY DESTINATION lib
)
