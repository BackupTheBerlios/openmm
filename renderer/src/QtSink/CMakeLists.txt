FIND_PACKAGE(Qt4)

INCLUDE(
${QT_USE_FILE}
)

SET(CMAKE_LIBRARY_PATH
${CMAKE_SYSTEM_LIBRARY_PATH}
)

if(TARGET omm)
INCLUDE_DIRECTORIES(
${omm_SOURCE_DIR}/lib
)
endif(TARGET omm)

ADD_DEFINITIONS(
-malign-double
)

SET( OMM_AV_STREAM_QTSINK_SRCS
QtSink.cpp
)

SET( OMM_AV_STREAM_QTSINK_MOC
QtSink.h
)

QT4_WRAP_CPP(
OMM_AV_STREAM_QTSINK_CPP ${OMM_AV_STREAM_QTSINK_MOC}
)

ADD_LIBRARY( ommvideosink-qt
SHARED
${OMM_AV_STREAM_QTSINK_SRCS}
${OMM_AV_STREAM_QTSINK_CPP}
)


TARGET_LINK_LIBRARIES( ommvideosink-qt
${QT_LIBRARIES}
)

INSTALL( TARGETS ommvideosink-qt
LIBRARY DESTINATION lib/omm
)

