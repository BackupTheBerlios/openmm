FIND_PACKAGE(SDL)

SET(CMAKE_LIBRARY_PATH
${CMAKE_SYSTEM_LIBRARY_PATH}
)

if(TARGET omm)
INCLUDE_DIRECTORIES(
${omm_SOURCE_DIR}/lib
)
endif(TARGET omm)

SET( OMM_AV_STREAM_SDLSINK_SRCS
SdlSink.cpp
)

SET( OMM_AV_STREAM_SDL_AUDIOSINK_SRCS
SdlAudioSink.cpp
)

ADD_LIBRARY( ommavr-sdlsink
SHARED
${OMM_AV_STREAM_SDLSINK_SRCS}
)

ADD_LIBRARY( ommavr-audiosink-sdl
SHARED
${OMM_AV_STREAM_SDLSINK_SRCS}
)

TARGET_LINK_LIBRARIES( ommavr-sdlsink
${SDL_LIBRARY}
)

TARGET_LINK_LIBRARIES( ommavr-audiosink-sdl
${SDL_LIBRARY}
)

INSTALL( TARGETS ommavr-sdlsink ommavr-audiosink-sdl
LIBRARY DESTINATION lib
)

